<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FieldNotes Lite Offline</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="fn-window">
    <header class="title-bar">
      <div class="title-text">FieldNotes 6.1.3.361 - Untitled:1</div>
      <div class="win-buttons">
        <span class="win-btn">_</span>
        <span class="win-btn">[]</span>
        <span class="win-btn">X</span>
      </div>
    </header>

    <div class="menu-bar">
      <span>File</span>
      <span>Data</span>
      <span>View</span>
      <span>Measurement</span>
      <span>Plot</span>
      <span>Grid</span>
      <span>Report/Worksheet</span>
      <span>Help</span>
    </div>

    <div class="tool-bar">
      <button class="tool-btn">New</button>
      <button class="tool-btn">Open</button>
      <button class="tool-btn">Save</button>
      <button id="btnLoadDemo" class="tool-btn">Demo</button>
      <button id="btnClear" class="tool-btn danger">Clear</button>
      <button id="btnStart" class="tool-btn">Start</button>
      <button id="btnStop" class="tool-btn" disabled>Stop</button>
      <button id="btnManual" class="tool-btn">Manual</button>
      <button id="btnExportCSV" class="tool-btn" disabled>Export CSV</button>
    </div>

    <div class="workspace">
      <aside class="left-pane">
        <div class="pane-tabs">
          <button class="pane-tab active">Configuration</button>
          <button class="pane-tab">Properties</button>
        </div>
        <div class="tree-panel">
          <ul class="tree">
            <li>Meter/Data
              <ul>
                <li>Date</li>
                <li>Time</li>
                <li>Cum Time</li>
                <li>Monitor</li>
                <li>Wellhead</li>
                <li>Production Totals</li>
                <li>Gas Orifice Meter 1</li>
                <li>Oil Produced Volume Meter 2</li>
              </ul>
            </li>
          </ul>
        </div>

        <div class="left-form">
          <label>Sample Interval (sec)
            <input id="simInterval" type="number" min="1" value="1">
          </label>
          <label>Noise
            <input id="simNoise" type="number" min="0" step="0.1" value="0.3">
          </label>
          <label>Time Unit
            <select id="timeUnit">
              <option value="min" selected>Minutes</option>
              <option value="hr">Hours</option>
            </select>
          </label>
          <label>Smoothing
            <input id="smooth" type="number" value="1" min="1" max="99">
          </label>
          <label>Downsample N
            <input id="downN" type="number" value="1" min="1" max="50">
          </label>
        </div>
      </aside>

      <main class="right-pane">
        <nav class="tabs fn-tabs">
          <button class="tab active" data-tab="acquire">Field Measurement</button>
          <button class="tab" data-tab="dashboard">Production Summary</button>
          <button class="tab" data-tab="alarms">Activity Log</button>
          <button class="tab" data-tab="import">Data</button>
          <button class="tab" data-tab="project">Project</button>
        </nav>

        <section id="acquire" class="panel active">
          <div class="table-shell">
            <div class="table-header">Meter/Data Grid (Last 100 rows)</div>
            <div id="tableWrap" class="table-wrap"></div>
          </div>
          <div class="split-bottom">
            <div class="stats-box">
              <div class="box-title">Quick Stats</div>
              <div id="stats" class="stats">-</div>
            </div>
            <div class="chart-box">
              <div class="box-title">Wellhead Pressures vs Rates</div>
              <canvas id="cPressure" width="900" height="220"></canvas>
            </div>
          </div>
        </section>

        <section id="dashboard" class="panel">
          <div class="dashboard-grid">
            <div class="chart-box">
              <div class="box-title">Oil/Water Rates</div>
              <canvas id="cRates" width="900" height="220"></canvas>
            </div>
            <div class="chart-box">
              <div class="box-title">GOR and Water Cut</div>
              <canvas id="cRatios" width="900" height="220"></canvas>
            </div>
            <div class="chart-box">
              <div class="box-title">Horner Plot</div>
              <canvas id="cHorner" width="900" height="220"></canvas>
            </div>
            <div class="stats-box">
              <div class="box-title">Fractions</div>
              <div id="fractions" class="stats">-</div>
            </div>
          </div>
        </section>

        <section id="alarms" class="panel">
          <div class="alarm-grid">
            <div class="form-box">
              <label>High Pressure (psia)
                <input id="thrPHigh" type="number" value="4000">
              </label>
              <label>Low Pressure (psia)
                <input id="thrPLow" type="number" value="1000">
              </label>
              <label>High Oil Rate (bopd)
                <input id="thrQoHigh" type="number" value="500">
              </label>
              <button id="btnAlarmTest" class="tool-btn">Alarm Test</button>
            </div>
            <div class="log-box">
              <div class="box-title">Alarm Log</div>
              <div id="alarmLog" class="log"></div>
            </div>
          </div>
        </section>

        <section id="import" class="panel">
          <div class="form-box wide">
            <label>Import CSV
              <input id="fileInput" type="file" accept=".csv">
            </label>
            <p class="hint">Headers: time_min,pressure_psia,oil_bopd,gas_mscfd,water_bopd,temp_F</p>
          </div>
        </section>

        <section id="project" class="panel">
          <div class="project-grid">
            <div class="form-box">
              <button id="btnSave" class="tool-btn">Save Project (JSON)</button>
              <label>Project JSON
                <input id="projFile" type="file" accept=".json">
              </label>
              <button id="btnLoad" class="tool-btn">Load Project</button>
            </div>
            <div class="form-box">
              <label>Notes</label>
              <textarea id="notes" rows="8" placeholder="Write notes for this run..."></textarea>
            </div>
          </div>
        </section>
      </main>
    </div>

    <footer class="status-bar">
      <span>Field+Metric</span>
      <span>NUM</span>
    </footer>
  </div>

  <div id="modal" class="modal hidden">
    <div class="modal-body">
      <h3>Manual Measurement Input</h3>
      <div class="manual-grid">
        <label>Time (min) <input id="m_time" type="number" value="0"></label>
        <label>Pressure (psia) <input id="m_p" type="number" value="3000"></label>
        <label>Oil (bopd) <input id="m_qo" type="number" value="300"></label>
        <label>Gas (MSCFD) <input id="m_qg" type="number" value="150"></label>
        <label>Water (bopd) <input id="m_qw" type="number" value="20"></label>
        <label>Temp (F) <input id="m_T" type="number" value="180"></label>
      </div>
      <div class="modal-actions">
        <button id="btnModalAdd" class="tool-btn">Add</button>
        <button id="btnModalClose" class="tool-btn">Close</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
