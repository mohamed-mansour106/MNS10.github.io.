<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SamyGroup Store</title>
    <meta name="description" content="ุชุณูู ุงูุขู ูุงุญุตู ุนูู ุฃูุถู ุงูููุชุฌุงุช ุจุฃุณุนุงุฑ ุชูุงูุณูุฉ ูุน ุดุญู ูุฌุงูู ูุฌููุน ุงูุทูุจุงุช ุณุงูู ุฌุฑูุจ ูููุฑุฒ ุงูุซุงูู ูุงููุณุชุนูู ูุงูุงุฏูุงุช ุงูููุฑุจุงุฆูุฉ ูููุณุฑ ุงูุฒูุฑู ููุจุงููุงุช ูุงูุงุซุงุซ ุงูููุฒูู">
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href="img/Logo/SG.ico" type="image/x-icon">
    
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
</head>
<body>


    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <span>SamyGroup</span>
                    <span class="icon"><img src="img/Logo/SG.png" alt="SG logo" style="width: 30px;"> </span>
                </div>
                <nav class="nav-menu">
                    <a href="#" class="nav-link active" data-category="electronics">ููุจุงููุงุช</a>
                    <a href="#" class="nav-link" data-category="fashion">ุฃุซุงุซ ููุฒูู</a>
                    <a href="#" class="nav-link" data-category="home">ุฃุฌูุฒุฉ ููุฒููุฉ</a>
                    <a href="#" class="nav-link" data-category="sports">ุฃุฎุฑู</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="badge">๐ ุนุฑูุถ ุญุตุฑูุฉ ุงุญุตู ุนูู %20 ุฎุตู</div>
            <h1 class="hero-title">ุณุงูู <span class="highlight">ุฌุฑูุจ</span></h1>
            <p class="hero-subtitle">ุชุณูู ุงูุขู ูุงุญุตู ุนูู ุฃูุถู ุงูููุชุฌุงุช ุจุฃุณุนุงุฑ ุชูุงูุณูุฉ ูุน ุดุญู ูุฌุงูู ูุฌููุน ุงูุทูุจุงุช ุณุงูู ุฌุฑูุจ ูููุฑุฒ ุงูุซุงูู ูุงููุณุชุนูู ูุงูุงุฏูุงุช ุงูููุฑุจุงุฆูุฉ ูููุณุฑ ุงูุฒูุฑู ููุจุงููุงุช ูุงูุงุซุงุซ ุงูููุฒูู</p>
        </div>
    </section>

    <section class="searchBar">
        <div class="container">
            <div class="search-wrapper">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="ุงุจุญุซ ุนู ุงูููุชุฌุงุช..." 
                        autocomplete="off"
                    >
                    <button class="search-btn" onclick="performSearch()">
                        <span>๐</span>
                    </button>
                </div>
                <div class="search-results" id="searchResults" style="display: none;">
                    <div class="results-header">
                        <h3>ูุชุงุฆุฌ ุงูุจุญุซ</h3>
                        <span class="results-count" id="resultsCount">0</span>
                    </div>
                    <div class="results-list" id="resultsList"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Who Are Us Section -->
    <section class="whoAreUsVideo" hidden>
        <div class="container">
            <div class="who-are-us-content">
                <div class="who-are-us-text" >
                    <div class="section-badge">ุนู ุงูุณุงูู ุฌุฑูุจ</div>
                    <h2 class="who-are-us-title">ูู ูุญู</h2>
                    <p class="who-are-us-description">
                        ูุญู ูุชุฌุฑ ุณุงูู ุฌุฑูุจ ุงููุชุฎุตุต ูู ุจูุน ุงูููุชุฌุงุช ุงููุณุชุนููุฉ ูุงููุฑุฒ ุงูุซุงูู ุจุฃุณุนุงุฑ ุชูุงูุณูุฉ. 
                        ููุฏู ููู ุฃูุถู ุงูููุชุฌุงุช ูู ุงูุฅููุชุฑูููุงุช ูุงูุฃุซุงุซ ูุงูููุงุจุณ ูุฃุฏูุงุช ุงูุจูุช ุจุฌูุฏุฉ ุนุงููุฉ ูุฃุณุนุงุฑ ููุงุณุจุฉ.
                    </p>
                    <div class="who-are-us-features">
                        <div class="feature-item">
                            <span class="feature-icon">โ</span>
                            <span class="feature-text">ููุชุฌุงุช ุฃุตููุฉ ูููุซููุฉ</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">โ</span>
                            <span class="feature-text">ุฃุณุนุงุฑ ููุงูุณุฉ ูุนุฑูุถ ุญุตุฑูุฉ</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">โ</span>
                            <span class="feature-text">ุฎุฏูุฉ ุนููุงุก ูุชููุฒุฉ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">โ</span>
                            <span class="feature-text">ุชูุตูู ุณุฑูุน ูุขูู</span>
                        </div>
                    </div>
                </div>
                <div class="who-are-us-video">
                    <div class="video-wrapper">
                        <!-- ุบููุฑ ูุนุฑู ุงูููุฏูู (8q4mUwLrOTY) ุจุฑุงุจุท ููุฏููู ุงูุฎุงุต -->
                        <iframe 
                            src="img/product/fridge.mp4" 
                            title="ูู ูุญู - ุณุงูู ุฌุฑูุจ" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin"
                            allowfullscreen>
                        </iframe>
                        <div class="video-overlay"></div>
                    </div>
                </div>
            </div>
        </div>
        
    </section>
    <!--Only video ads-->
    <div class="video-wrapper" hidden>
                        <!-- ุบููุฑ ูุนุฑู ุงูููุฏูู (8q4mUwLrOTY) ุจุฑุงุจุท ููุฏููู ุงูุฎุงุต -->
                        <iframe 
                            src="img/product/fridge.mp4" 
                            title="ูู ูุญู - ุณุงูู ุฌุฑูุจ" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin"
                            allowfullscreen>
                        </iframe>
                        <div class="video-overlay"></div>
                        <img src="img/product/ad.png" alt="">
                    </div>

    <!-- ads Section -->
    <section class="ads" hidden>
        <div class="container">
            <div class="ads-grid">
                <!-- Ad 1 -->
                <div class="ad-card ad-card-1">
                    <div class="ad-badge">ุนุฑุถ ุญุตุฑู</div>
                    <div class="ad-content">
                        <h3>ุชุฎููุถุงุช ุงูุดุชุงุก</h3>
                        <p>ุงุญุตู ุนูู ุฎุตู ูุตู ุฅูู 50% ุนูู ุงูููุชุฌุงุช ุงููุฎุชุงุฑุฉ</p>
                        <a href="https://chat.whatsapp.com/CVWwGii7v1LGHYd4nfm8iz" class="ad-link">ุงุดุชุฑ ุงูุขู</a>
                    </div>
                </div>

                <!-- Ad 2 -->
                <div class="ad-card ad-card-2">
                    <div class="ad-badge">ุนุฑุถ ุญุตุฑู</div>
                    <div class="ad-content">
                        <h3>ููุชุฌุงุช ุฌุฏูุฏุฉ</h3>
                        <p>ุงูุชุดู ุฃุญุฏุซ ุงูููุชุฌุงุช ุงููุตููุฉ ุญุฏูุซุงู</p>
                        <a href="https://chat.whatsapp.com/CVWwGii7v1LGHYd4nfm8iz" class="ad-link">ุชุตูุญ ุงูุขู</a>
                    </div>
                </div>

                <!-- Ad 3 -->
                <div class="ad-card ad-card-3">
                    <div class="ad-badge">ุนุฑุถ ุญุตุฑู</div>
                    <div class="ad-content">
                        <h3>ุดุญู ูุฌุงูู</h3>
                        <p>ุนูู ุฌููุน ุงูุทูุจุงุช ููู 200 ุฌ.ู</p>
                        <a href="https://chat.whatsapp.com/CVWwGii7v1LGHYd4nfm8iz" class="ad-link">ุชุณูู ุงูุขู</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" id="sectionTitle">ููุจุงููุงุช</h2>
                <button class="btn-add-product" id="btnAddProduct">+</button>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Product 1 -->
                <div class="product-card" data-product="1" data-category="electronics">
                    <div class="product-badge">150 ุฌ.ู</div>
                    <div class="product-image">
                        <img src="img/product/charger1.png" alt="ุดุงุญู ุณุงูุณููุฌ adapter    ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ุดุงุญู ุณุงูุณููุฌ adapter    </h3>
                        <p class="product-desc">"ุดุงุญู ุณุงูุณููุฌ adapter 150 ุฌููู ูุตุฑู ููุฌูุฏ ุจูููุงุช  .</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card" data-product="2" data-category="electronics">
                    <div class="product-badge">6500 ุฌ.ู</div>
                    <div class="product-image">
                        <img src="img/product/iphonexls1.png" alt="ูุงููุฑุง ุงุญุชุฑุงููุฉ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ุงูููู xs </h3>
                        <p class="product-desc">  ุงูููู xs ูุณุงุญุฉ 256 ุจุทุงุฑูุฉ 73 </p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card" data-product="3" data-category="electronics">
                    <div class="product-badge">4000 ุฌ.ู</div>
                    <div class="product-image">
                        <img src="img/product/phone2.png" alt="ููุงูู ูููุง Y61" >
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ููุงูู ูููุง Y61 </h3>
                        <p class="product-desc">ุชููููู ููุงูู ูููุง Y61 ุฑุงูุงุช ุงุฑุจุนู ุฌูุฌุงุฐุงูุฑุฉ64 ุฌูุฌุง</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card" data-product="4" data-category="electronics">
                    <div class="product-badge">299 ุฌ.ู</div>
                    <div class="product-image">
                        <img src="https://images.pexels.com/photos/3825517/pexels-photo-3825517.jpeg?auto=compress&cs=tinysrgb&w=600" alt="ุณุงุนุงุช ุฑูุงุถูุฉ ุจููุชูุซ">
                        <img src="img/product/bed2.jpg" alt="">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ุณุงุนุงุช ุฑูุงุถูุฉ ุจููุชูุซ</h3>
                        <p class="product-desc">ุณูุงุนุงุช ูุงุณูููุฉ ูุน ุฌูุฏุฉ ุตูุช ุนุงููุฉ ูุจุทุงุฑูุฉ ุชุฏูู 24 ุณุงุนุฉ</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">๐ฌ</div>
                    <h3 class="feature-title">ุฏุนู 24/7</h3>
                    <p class="feature-desc">ูุฑูู ุฏุนู ูุชุงุญ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">โ</div>
                    <h3 class="feature-title">ุถูุงู ุงูุฌูุฏุฉ</h3>
                    <p class="feature-desc">ุถูุงู ููุฏุฉ ุณูุฉ ุนูู ุฌููุน ุงูููุชุฌุงุช</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">๐</div>
                    <h3 class="feature-title">ุดุญู ูุฌุงูู</h3>
                    <p class="feature-desc">ุนูู ุฌููุน ุงูููุชุฌุงุช ููู 20000 ุฌ.ู</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>ุฑูุงุจุท ุณุฑูุนุฉ</h4>
                    <ul class="footer-links">
                        <li><a href="../../../index.html">ุงูุฑุฆูุณูุฉ</a></li>
                        <li><a href="#sectionTitle">ุงูููุชุฌุงุช</a></li>
                        <li><a href="#">ูู ูุญู</a></li>
                        <li><a href="#">ุงุชุตู ุจูุง</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ุชูุงุตู ูุนูุง</h4>
                    <ul class="footer-contact">
                        <li>๐ 201062929804+</li>
                        <li>๐ง MohamedMansour10060@gmail.com</li>
                        <li>๐  ุงูุดุฑููุฉ / ุงูุฒูุงุฒูู / ุทุงุฑูุท ุฃูุงู ููุจุฑู ูุนููุจ  </li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ุชุงุจุนูุง</h4>
                    <p>ุณุงูู ุฌุฑูุจ ูุชุฌุฑู ุงูุฃูู ููุชุณูู ุงูุฅููุชุฑููู. ูุชุดุฑู ุฃูุถู ุงูููุชุฌุงุช ุจุฃูุถู ุงูุฃุณุนุงุฑ ูุน ุฎุฏูุฉ ููุชุงุฒุฉ ูุฏุนู</p>
                    <div class="newsletter">
                        <input type="email" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู">
                        <button>ุงุดุชุฑู</button>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>ยฉ 2024 <img src="../../../MMM.png" alt="MMM106" width="5%"> <span style="color: aliceblue;">MMM106</span>. ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
            </div>
        </div>
    </footer>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
        <div class="modal-content modal-form">
            <span class="close">&times;</span>
            <h2>ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="productTitle">ุงุณู ุงูููุชุฌ</label>
                    <input type="text" id="productTitle" required placeholder="ุฃุฏุฎู ุงุณู ุงูููุชุฌ">
                </div>

                <div class="form-group">
                    <label for="productCategory">ุงููุณู</label>
                    <select id="productCategory" required>
                        <option value="">ุงุฎุชุฑ ุงููุณู</option>
                        <option value="electronics">ููุจุงููุงุช</option>
                        <option value="fashion">ุฃุซุงุซ ููุฒูู</option>
                        <option value="home">ุฃุฌูุฒุฉ ููุฒููุฉ</option>
                        <option value="sports">ุฃุฎุฑู</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="productPrice">ุงูุณุนุฑ</label>
                    <input type="number" id="productPrice" required placeholder="ุฃุฏุฎู ุงูุณุนุฑ">
                </div>

                <div class="form-group">
                    <label for="productImage">ุฑุงุจุท ุงูุตูุฑุฉ</label>
                    <input type="url" id="productImage" required placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ">
                </div>

                <div class="form-group">
                    <label for="productDescription">ุงููุตู</label>
                    <textarea id="productDescription" rows="4" required placeholder="ุฃุฏุฎู ูุตู ุงูููุชุฌ"></textarea>
                </div>

                <div class="form-group">
                    <label for="productSpecs">ุงูููุงุตูุงุช (ููุตููุฉ ุจููุงุตู)</label>
                    <textarea id="productSpecs" rows="3" required placeholder="ุฃุฏุฎู ุงูููุงุตูุงุช ููุตููุฉ ุจููุงุตู"></textarea>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-submit">ุญูุธ ุงูููุชุฌ</button>
                    <button type="button" class="btn-cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modalImage" src="" alt="">
                </div>
                <div class="modal-details">
                    <h2 id="modalTitle"></h2>
                    <div class="modal-price" id="modalPrice"></div>
                    <p id="modalDescription"></p>
                    <div class="modal-specs">
                        <h3>ุงูููุงุตูุงุช:</h3>
                        <ul id="modalSpecs"></ul>
                    </div>
                    <div class="modal-actions">
                        <a class="btn-add-cart"href="https://chat.whatsapp.com/CVWwGii7v1LGHYd4nfm8iz" > ุงุดุชุฑู ูู ุฌุฑูุจูุง </a>
                        <button class="btn-buy-now" onclick="sendWhatsAppMessage()" >ุงุดุชุฑู ุงูุงู </button>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    
    <!-- Firestore Products Handler -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            onSnapshot, 
            query, 
            orderBy,
            serverTimestamp 
        } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

        // Firebase Config
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyBWInOFMkiyis2C2267tZD8_uVRkIo0h0g",
            authDomain: "samygroupy.firebaseapp.com",
            projectId: "samygroupy",
            storageBucket: "samygroupy.firebasestorage.app",
            messagingSenderId: "906841923235",
            appId: "1:906841923235:web:de757131a48d9e07f36916"
        };

        // Initialize Firebase
        const app = initializeApp(FIREBASE_CONFIG);
        const db = getFirestore(app);

        console.log('โ Firestore Products Handler initialized');

        // Add product to Firestore when form submitted
        const addProductForm = document.getElementById('addProductForm');
        if (addProductForm) {
            addProductForm.addEventListener('submit', async (e) => {
                const event = e || window.event;
                event.preventDefault();

                try {
                    const title = document.getElementById('productTitle').value;
                    const category = document.getElementById('productCategory').value;
                    const price = document.getElementById('productPrice').value;
                    const image = document.getElementById('productImage').value;
                    const description = document.getElementById('productDescription').value;
                    const specsText = document.getElementById('productSpecs').value;

                    // Save to Firestore
                    await addDoc(collection(db, 'firestore_products'), {
                        title: title,
                        category: category,
                        price: price + ' ุฌ.ู',
                        image: image,
                        description: description,
                        specs: specsText,
                        createdAt: serverTimestamp(),
                        likes: 0
                    });

                    console.log('โ Product added to Firestore!');
                    alert('ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุจูุฌุงุญ! โ');
                    addProductForm.reset();

                    // Close modal
                    document.getElementById('addProductModal').style.display = 'none';
                    document.body.style.overflow = 'auto';

                } catch (error) {
                    console.error('โ Error adding product:', error);
                    alert('ุฎุทุฃ ูู ุฅุถุงูุฉ ุงูููุชุฌ: ' + error.message);
                }
            });
        }

        // Store Firestore products globally
        window.firestoreProducts = {};

        // Load products from Firestore and merge with category view
        function loadFirestoreProducts() {
            const productsGrid = document.getElementById('productsGrid');
            
            if (!productsGrid) {
                console.warn('โ๏ธ Products grid not found');
                return;
            }

            const q = query(
                collection(db, 'firestore_products'),
                orderBy('createdAt', 'desc')
            );

            onSnapshot(q, (snapshot) => {
                console.log(`๐ Loading ${snapshot.size} products from Firestore`);
                
                window.firestoreProducts = {};
                snapshot.forEach((doc) => {
                    const product = doc.data();
                    window.firestoreProducts[doc.id] = {
                        id: doc.id,
                        title: product.title,
                        price: product.price,
                        image: product.image,
                        description: product.description,
                        specs: product.specs,
                        category: product.category,
                        fromFirestore: true
                    };
                });

                // Refresh current category view
                const activeLink = document.querySelector('.nav-link.active');
                if (activeLink) {
                    const category = activeLink.dataset.category;
                    window.loadProducts(category);
                }
            });
        }

        // Load products on page load
        window.addEventListener('load', () => {
            console.log('๐ Loading Firestore products...');
            setTimeout(() => {
                loadFirestoreProducts();
            }, 500);
        });

        // Make function globally available
        window.loadFirestoreProducts = loadFirestoreProducts;
loadFirestoreProducts();
    </script>

    <script src="script.js"></script>
</body>
</html>
