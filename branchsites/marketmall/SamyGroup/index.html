<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุชุฌุฑู - ุงูุชุดู ููุชุฌุงุชูุง ุงููููุฒุฉ</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
</head>
<body>


    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <span>ูุชุฌุฑู</span>
                    <span class="icon">๐๏ธ</span>
                </div>
                <nav class="nav-menu">
                    <a href="#" class="nav-link active" data-category="electronics">ุงููุชุฑูููุงุช</a>
                    <a href="#" class="nav-link" data-category="fashion">ุฃุฒูุงุก</a>
                    <a href="#" class="nav-link" data-category="home">ููุฒู ูุฏูููุฑ</a>
                    <a href="#" class="nav-link" data-category="sports">ุฑูุงุถุฉ</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="badge">๐ ุนุฑูุถ ุญุตุฑูุฉ ุงุญุตู ุนูู %20 ุฎุตู</div>
            <h1 class="hero-title">ุงูุชุดู ููุชุฌุงุชูุง <span class="highlight">ุงููููุฒุฉ</span></h1>
            <p class="hero-subtitle">ุชุณูู ุงูุขู ูุงุญุตู ุนูู ุฃูุถู ุงูููุชุฌุงุช ุจุฃุณุนุงุฑ ุชูุงูุณูุฉ ูุน ุดุญู ูุฌุงูู ูุฌููุน ุงูุทูุจุงุช</p>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" id="sectionTitle">ุงููุชุฑูููุงุช</h2>
                <button class="btn-add-product" id="btnAddProduct">+</button>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Product 1 -->
                <div class="product-card" data-product="1" data-category="electronics">
                    <div class="product-badge">4999 ุฑ.ุณ</div>
                    <div class="product-image">
                        <img src="https://images.pexels.com/photos/7974/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=600" alt="ูุงุจุชูุจ ููุฃูุนุงุจ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ูุงุจุชูุจ ููุฃูุนุงุจ</h3>
                        <p class="product-desc">ูุงุจุชูุจ ููู ูุน ุดุงุดุฉ 15.6 ุจูุตุฉ RTX 4080 ูุน ุฐุงูุฑุฉ</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card" data-product="2" data-category="electronics">
                    <div class="product-badge">2499 ุฑ.ุณ</div>
                    <div class="product-image">
                        <img src="https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg?auto=compress&cs=tinysrgb&w=600" alt="ูุงููุฑุง ุงุญุชุฑุงููุฉ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ูุงููุฑุง ุงุญุชุฑุงููุฉ</h3>
                        <p class="product-desc">ูุงููุฑุง DSLR ุชุตููุฑ ุงุญุชุฑุงูู ูุน ุนุฏุณุฉ ูุชุนุฏุฏุฉ</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card" data-product="3" data-category="electronics">
                    <div class="product-badge">599 ุฑ.ุณ</div>
                    <div class="product-image">
                        <img src="https://images.pexels.com/photos/393047/pexels-photo-393047.jpeg?auto=compress&cs=tinysrgb&w=600" alt="ุณุงุนุฉ ุฐููุฉ ูุชุทูุฑุฉ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ุณุงุนุฉ ุฐููุฉ ูุชุทูุฑุฉ</h3>
                        <p class="product-desc">ุณุงุนุฉ ุฐููุฉ ูุน ุดุงุดุฉ ุนุงููุฉ ุงูุฏูุฉ ูููุงููุฉ ูููุงุก</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card" data-product="4" data-category="electronics">
                    <div class="product-badge">299 ุฑ.ุณ</div>
                    <div class="product-image">
                        <img src="https://images.pexels.com/photos/3825517/pexels-photo-3825517.jpeg?auto=compress&cs=tinysrgb&w=600" alt="ุณุงุนุงุช ุฑูุงุถูุฉ ุจููุชูุซ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">ุณุงุนุงุช ุฑูุงุถูุฉ ุจููุชูุซ</h3>
                        <p class="product-desc">ุณูุงุนุงุช ูุงุณูููุฉ ูุน ุฌูุฏุฉ ุตูุช ุนุงููุฉ ูุจุทุงุฑูุฉ ุชุฏูู 24 ุณุงุนุฉ</p>
                        <button class="btn-buy">ุดุฑุงุก ุงูุขู</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">๐ฌ</div>
                    <h3 class="feature-title">ุฏุนู 24/7</h3>
                    <p class="feature-desc">ูุฑูู ุฏุนู ูุชุงุญ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">โ</div>
                    <h3 class="feature-title">ุถูุงู ุงูุฌูุฏุฉ</h3>
                    <p class="feature-desc">ุถูุงู ููุฏุฉ ุณูุฉ ุนูู ุฌููุน ุงูููุชุฌุงุช</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">๐</div>
                    <h3 class="feature-title">ุดุญู ูุฌุงูู</h3>
                    <p class="feature-desc">ุนูู ุฌููุน ุงูููุชุฌุงุช ููู 200 ุฑ.ุณ</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>ุฑูุงุจุท ุณุฑูุนุฉ</h4>
                    <ul class="footer-links">
                        <li><a href="#">ุงูุฑุฆูุณูุฉ</a></li>
                        <li><a href="#">ุงูููุชุฌุงุช</a></li>
                        <li><a href="#">ูู ูุญู</a></li>
                        <li><a href="#">ุงุชุตู ุจูุง</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ุชูุงุตู ูุนูุง</h4>
                    <ul class="footer-contact">
                        <li>๐ 4567 123 50 966+</li>
                        <li>๐ง info@matjari.com</li>
                        <li>๐ ุงูุฑูุงุถุ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ุชุงุจุนูุง</h4>
                    <p>ูุชุฌุฑู ุงูุฃูู ููุชุณูู ุงูุฅููุชุฑููู. ูุชุดุฑู ุฃูุถู ุงูููุชุฌุงุช ุจุฃูุถู ุงูุฃุณุนุงุฑ ูุน ุฎุฏูุฉ ููุชุงุฒุฉ ูุฏุนู</p>
                    <div class="newsletter">
                        <input type="email" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู">
                        <button>ุงุดุชุฑู</button>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>ยฉ 2024 ูุชุฌุฑู. ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
            </div>
        </div>
    </footer>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
        <div class="modal-content modal-form">
            <span class="close">&times;</span>
            <h2>ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="productTitle">ุงุณู ุงูููุชุฌ</label>
                    <input type="text" id="productTitle" required placeholder="ุฃุฏุฎู ุงุณู ุงูููุชุฌ">
                </div>

                <div class="form-group">
                    <label for="productCategory">ุงููุณู</label>
                    <select id="productCategory" required>
                        <option value="">ุงุฎุชุฑ ุงููุณู</option>
                        <option value="electronics">ุงููุชุฑูููุงุช</option>
                        <option value="fashion">ุฃุฒูุงุก</option>
                        <option value="home">ููุฒู ูุฏูููุฑ</option>
                        <option value="sports">ุฑูุงุถุฉ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="productPrice">ุงูุณุนุฑ</label>
                    <input type="number" id="productPrice" required placeholder="ุฃุฏุฎู ุงูุณุนุฑ">
                </div>

                <div class="form-group">
                    <label for="productImage">ุฑุงุจุท ุงูุตูุฑุฉ</label>
                    <input type="url" id="productImage" required placeholder="ุฃุฏุฎู ุฑุงุจุท ุงูุตูุฑุฉ">
                </div>

                <div class="form-group">
                    <label for="productDescription">ุงููุตู</label>
                    <textarea id="productDescription" rows="4" required placeholder="ุฃุฏุฎู ูุตู ุงูููุชุฌ"></textarea>
                </div>

                <div class="form-group">
                    <label for="productSpecs">ุงูููุงุตูุงุช (ููุตููุฉ ุจููุงุตู)</label>
                    <textarea id="productSpecs" rows="3" required placeholder="ุฃุฏุฎู ุงูููุงุตูุงุช ููุตููุฉ ุจููุงุตู"></textarea>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-submit">ุญูุธ ุงูููุชุฌ</button>
                    <button type="button" class="btn-cancel">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modalImage" src="" alt="">
                </div>
                <div class="modal-details">
                    <h2 id="modalTitle"></h2>
                    <div class="modal-price" id="modalPrice"></div>
                    <p id="modalDescription"></p>
                    <div class="modal-specs">
                        <h3>ุงูููุงุตูุงุช:</h3>
                        <ul id="modalSpecs"></ul>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-add-cart">ุฃุถู ุฅูู ุงูุณูุฉ</button>
                        <button class="btn-buy-now">ุงุดุชุฑู ุงูุขู</button>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    
    <!-- Firestore Products Handler -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            onSnapshot, 
            query, 
            orderBy,
            serverTimestamp 
        } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

        // Firebase Config
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyBWInOFMkiyis2C2267tZD8_uVRkIo0h0g",
            authDomain: "samygroupy.firebaseapp.com",
            projectId: "samygroupy",
            storageBucket: "samygroupy.firebasestorage.app",
            messagingSenderId: "906841923235",
            appId: "1:906841923235:web:de757131a48d9e07f36916"
        };

        // Initialize Firebase
        const app = initializeApp(FIREBASE_CONFIG);
        const db = getFirestore(app);

        console.log('โ Firestore Products Handler initialized');

        // Add product to Firestore when form submitted
        const addProductForm = document.getElementById('addProductForm');
        if (addProductForm) {
            addProductForm.addEventListener('submit', async (e) => {
                const event = e || window.event;
                event.preventDefault();

                try {
                    const title = document.getElementById('productTitle').value;
                    const category = document.getElementById('productCategory').value;
                    const price = document.getElementById('productPrice').value;
                    const image = document.getElementById('productImage').value;
                    const description = document.getElementById('productDescription').value;
                    const specsText = document.getElementById('productSpecs').value;

                    // Save to Firestore
                    await addDoc(collection(db, 'firestore_products'), {
                        title: title,
                        category: category,
                        price: price + ' ุฑ.ุณ',
                        image: image,
                        description: description,
                        specs: specsText,
                        createdAt: serverTimestamp(),
                        likes: 0
                    });

                    console.log('โ Product added to Firestore!');
                    alert('ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุจูุฌุงุญ! โ');
                    addProductForm.reset();

                    // Close modal
                    document.getElementById('addProductModal').style.display = 'none';
                    document.body.style.overflow = 'auto';

                } catch (error) {
                    console.error('โ Error adding product:', error);
                    alert('ุฎุทุฃ ูู ุฅุถุงูุฉ ุงูููุชุฌ: ' + error.message);
                }
            });
        }

        // Store Firestore products globally
        window.firestoreProducts = {};

        // Load products from Firestore and merge with category view
        function loadFirestoreProducts() {
            const productsGrid = document.getElementById('productsGrid');
            
            if (!productsGrid) {
                console.warn('โ๏ธ Products grid not found');
                return;
            }

            const q = query(
                collection(db, 'firestore_products'),
                orderBy('createdAt', 'desc')
            );

            onSnapshot(q, (snapshot) => {
                console.log(`๐ Loading ${snapshot.size} products from Firestore`);
                
                window.firestoreProducts = {};
                snapshot.forEach((doc) => {
                    const product = doc.data();
                    window.firestoreProducts[doc.id] = {
                        id: doc.id,
                        title: product.title,
                        price: product.price,
                        image: product.image,
                        description: product.description,
                        specs: product.specs,
                        category: product.category,
                        fromFirestore: true
                    };
                });

                // Refresh current category view
                const activeLink = document.querySelector('.nav-link.active');
                if (activeLink) {
                    const category = activeLink.dataset.category;
                    window.loadProducts(category);
                }
            });
        }

        // Load products on page load
        window.addEventListener('load', () => {
            console.log('๐ Loading Firestore products...');
            setTimeout(() => {
                loadFirestoreProducts();
            }, 500);
        });

        // Make function globally available
        window.loadFirestoreProducts = loadFirestoreProducts;
loadFirestoreProducts();
    </script>

    <script src="script.js"></script>
</body>
</html>